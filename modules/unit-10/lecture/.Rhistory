geom_bar(stat="identity", color="black", fill="lightblue") +
geom_line(aes(x=successes, y=density), color="tomato", size=2)
success_plot_data = data.frame(successes = c(40:50))
success_plot_data = success_plot_data %>%
mutate(density = dbinom(successes, 100, 0.45))
success_plot_data %>%
ggplot(aes(x=successes, y=density)) +
geom_bar(stat="identity", color="black", fill="lightblue")
shadePhat(xshade = c(.40,.50), 100, prob=0.45, lower.tail = FALSE)
shadePhat(xshade = c(40,50), 100, prob=0.45, lower.tail = FALSE)
shadePhat(xshade = c(40,50), 100, prob=45, lower.tail = FALSE)
```{r}
shadePhat(xshade = c(.40,.50), 100, prob=0.45, lower.tail = FALSE)
success_plot_data %>%
ggplot(aes(x=successes, y=density)) +
geom_bar(stat="identity", color="black", fill="lightblue") +
geom_line(aes(x=successes, y=density), color="tomato", size=2)
library(fastGraph)
plotDist(distA = "dprop", parmA1 = 100, 0.45, lwd=12)
shadePhat(xshade = c(0.4, 0.5), size = 100, prob =  0.5)
shadePhat(xshade = c(0.4, 0.5), size = 100, prob =  0.5, lower.tail = FALSE)
shadePhat(xshade = c(0.4, 0.5), size = 100, prob =  0.45, lower.tail = FALSE)
shadePhat(xshade = c(0.39, 0.5), size = 100, prob =  0.45, lower.tail = FALSE)
plotDist(distA = "dprop", parmA1 = 100, 0.45, lwd=12)
library(fastGraph)
shadePhat(xshade = c(0.4, 0.5), size = 100, prob =  0.45, lower.tail = FALSE)
library(fastGraph)
shadePhat(xshade = c(0.4, 0.5), size = 100, prob =  0.45, lower.tail = FALSE)
library(fastGraph)
shadePhat(xshade = c(0.39, 0.5), size = 100, prob =  0.45, lower.tail = FALSE)
p_400 = pbinom(q=45, size=100, prob = 0.45)
p_400 = pbinom(q=c(40,45), size=100, prob = 0.45)
p_400 = pbinom(q=c(40,50), size=100, prob = 0.45)
p_400 = pbinom(q=c(40,50), size=100, prob = 0.45)
success_plot_data = data.frame(successes = c(35:55))
success_plot_data = success_plot_data %>%
mutate(density = dbinom(successes, 100, 0.45))
success_plot_data %>%
ggplot(aes(x=successes, y=density)) +
geom_bar(stat="identity")
p_40_50 = sum(dbinom(40:50, 100, 0.45))
p_40_50 = sum(dbinom(40:50, 100, 0.45))
paste("p(0 - 480) =", round(p_400_480, 4))
paste("$\hat{p} (40 - 50) =", round(p_400_480, 4))
paste("$p(40 - 50) =", round(p_400_480, 4))
paste("$p(40 - 50) =", round(p_40-50, 4))
paste("$p(40 - 50) =", round(p_40_50, 4))
paste("p(40 - 50) =", round(p_40, 4))
p_40_50 = sum(dbinom(40, 100, 0.45))
p_40 = sum(dbinom(40, 100, 0.45))
paste("p(40 - 50) =", round(p_40, 4))
paste("p(40) =", round(p_40, 4))
p_40 = sum(dbinom(40, 100, 0.45))
paste("p(40) =", round(p_40, 4))
p_50 = sum(dbinom(50, 100, 0.45))
paste("p(50) =", round(p_50, 4))
p_40 = sum(dbinom(0:40, 100, 0.45))
paste("p(40) =", round(p_40, 4))
p_50 = sum(dbinom(0:50, 100, 0.45))
paste("p(50) =", round(p_50, 4))
library(fastGraph)
success_plot_data = data.frame(successes = c(25:65))
success_plot_data = success_plot_data %>%
mutate(density = dbinom(successes, 100, 0.45))
success_plot_data %>%
ggplot(aes(x=successes, y=density)) +
geom_bar(stat="identity")
rm(list = ls())
library(RODBC)
library(odbc)
con <- dbConnect(odbc::odbc(),
driver="SQL Server", "server=SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
con <- dbConnect(odbc::odbc(),
driver="SQL Server", "server=SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
library(RODBC)
library(odbc)
con <- dbConnect(odbc::odbc(),
driver="SQL Server", "server=SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
library(RODBC)
library(odbc)
con <- dbConnect(odbc::odbc(),
driver="SQL Server", "server=SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
con <- dbConnect(odbc::odbc(),
driver="SQL Server", server="SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
library(RODBC)
library(odbc)
con <- dbConnect(odbc::odbc(),
driver="SQL Server", server="SHAPAP3406\\PM01,14039", database="LOLPRISMDB_Wheat", trusted_connection="true")
data <- dbGetQuery(con,
'SELECT
Wheat_Project_Entry.Project_Name Book_Project,
Wheat_Doc_Entry.Doc_Name as Book_Name,
Wheat_Season_Entry.Season_Name as Season,
Wheat_exp_Fbk.C_RANGE as RANGE,
Wheat_exp_Fbk.C_PASS  as ROW,
Wheat_exp_Fbk.p_rowid as RECID,
Wheat_Doc_Entry1.Doc_Name as Trial,
Wheat_wks_reps.Rep_Num,
Wheat_wks_reps.User_Rep,
Wheat_Exp_Fbk.C_Entry_Num,
Wheat_pedigree.C_Pedigree as MP_NAME,
Wheat_exp_Fbk.C_NUM_SEED,
Wheat_Treatment_Combos.Treatment_Text as TREATMENT_APPLIED,
Wheat_exp_Fbk.CG_TREATMENT_NAME as TREATMENT_NAME,
Wheat_exp_Fbk.C_TREATMENT_NUMBER as TREATMENT_NUMBER,
Wheat_exp_Fbk.C_Moisture,
Wheat_exp_Fbk.C_TWT_2  TWT,
Wheat_field_notes.C_PLOT_LENGTH,
Wheat_field_notes.C_PLOT_WIDTH,
Wheat_exp_Fbk.C_CHECK,
Wheat_exp_Fbk.C_RAWYLD RAWYLD,
Wheat_exp_Fbk.C_PROTEIN_PCT,
Wheat_exp_Fbk.C_PRO,
CASE when Wheat_exp_Fbk.C_PLOTWT=0 or Wheat_Field_Notes.C_PLOT_WIDTH=0 or
Wheat_Field_Notes.C_PLOT_LENGTH = 0 then NULL
else
(100 - Wheat_exp_Fbk.C_Moisture) / 87 * Wheat_exp_Fbk.C_PLOTWT *
(43560 / ( Wheat_Field_Notes.C_PLOT_LENGTH  * Wheat_Field_Notes.C_PLOT_WIDTH )) / 60    END as BU_ACRE,
Wheat_pedigree.C_Source_ID as Brand,
Wheat_pedigree.C_Fem_Var Female,
Wheat_pedigree.C_Male  Male,
Wheat_pedigree.C_Trait   Trait,
Wheat_pedigree.C_RM   RM,
Wheat_exp_Fbk.C_Previous_Crop  Prev_Crop,
Wheat_Col_Entry_List1.List_Value    Soil_Texture,
Wheat_Col_Entry_List7.List_Value      Irrigated,
Wheat_Col_Entry_List2.List_Value   Region_II,
Wheat_Col_Entry_List5.List_Value   Plot_Discarded,
Wheat_Field_Notes.C_Date_Harvested Harvest_Date,
Wheat_Field_Notes.C_Date_Planted Planting_Date,
Wheat_Field_Notes.C_LATITUDE,
Wheat_Field_Notes.C_LONGITUDE,
Wheat_exp_Fbk.C_Stand  Stand,
Wheat_exp_Fbk.C_SL SL,
Wheat_exp_Fbk.C_RL RL,
Wheat_Doc_type.Document_Name as Book_Type,
Wheat_Col_Entry_List.List_Value  Analysis_State,
\'Wheat\'  as CROP
FROM
dbo.exp_Fbk                 Wheat_exp_Fbk
Left Join   dbo.Col_Entry_List          Wheat_Col_Entry_List5
ON   Wheat_exp_Fbk.C_PLOT_Discarded = Wheat_Col_Entry_List5.Value_ID
Left Join    dbo.Doc_Entry               Wheat_Doc_Entry
ON   Wheat_exp_Fbk.Doc_id = Wheat_Doc_Entry.Doc_ID
Left Join    dbo.wks_reps               Wheat_wks_reps
ON   Wheat_exp_Fbk.Block_Id = Wheat_wks_reps.Block_Id
Left Join   dbo.Col_Entry_List  Wheat_Col_Entry_List
On   Wheat_wks_reps.C_Analysis_State =  Wheat_Col_Entry_List.Value_ID
Left Join     dbo.Doc_Entry               Wheat_Doc_Entry1
On   Wheat_wks_reps.set_id = Wheat_Doc_Entry1.Doc_ID,
dbo.Field_Notes             Wheat_Field_Notes
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List1
ON  Wheat_Field_Notes.C_Soil_Texture = Wheat_Col_Entry_List1.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List7
ON  Wheat_Field_Notes.C_Irrigated = Wheat_Col_Entry_List7.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List2
ON Wheat_Field_Notes.C_region_II      = Wheat_Col_Entry_List2.Value_ID,
dbo.pedigree                  Wheat_pedigree
Left Join    dbo.Col_Entry_List          Wheat_Col_Entry_List3
ON  Wheat_pedigree.C_Stage =   Wheat_Col_Entry_List3.VALUE_ID,
dbo.Doc_Type                 Wheat_Doc_Type,
dbo.Project_Entry           Wheat_Project_Entry,
dbo.Season_Entry          Wheat_Season_Entry,
dbo.Treatment_Combos Wheat_Treatment_Combos
WHERE
Wheat_Season_Entry.Season_Name = \'Winter-2019\'
AND  Wheat_Doc_entry1.Doc_Name NOT LIKE \'Filler%\'
AND  Wheat_Doc_Entry.Doc_Type = Wheat_Doc_Type.Doc_Type
AND  Wheat_Doc_Entry.Project_ID = Wheat_Project_Entry.Project_ID
AND  Wheat_Doc_Entry.Season_Id = Wheat_Season_Entry.Season_ID
AND  Wheat_wks_reps.TCOMBO_ID = Wheat_Treatment_Combos.TCombo_ID
AND  Wheat_pedigree.ped_id = Wheat_exp_fbk.ped_id
AND  Wheat_Doc_Entry.doc_id  =  Wheat_Field_Notes.doc_id')
View(data)
wheat <- dbGetQuery(con,
'SELECT
Wheat_Project_Entry.Project_Name Book_Project,
Wheat_Doc_Entry.Doc_Name as Book_Name,
Wheat_Season_Entry.Season_Name as Season,
Wheat_exp_Fbk.C_RANGE as RANGE,
Wheat_exp_Fbk.C_PASS  as ROW,
Wheat_exp_Fbk.p_rowid as RECID,
Wheat_Doc_Entry1.Doc_Name as Trial,
Wheat_wks_reps.Rep_Num,
Wheat_wks_reps.User_Rep,
Wheat_Exp_Fbk.C_Entry_Num,
Wheat_pedigree.C_Pedigree as MP_NAME,
Wheat_exp_Fbk.C_NUM_SEED,
Wheat_Treatment_Combos.Treatment_Text as TREATMENT_APPLIED,
Wheat_exp_Fbk.CG_TREATMENT_NAME as TREATMENT_NAME,
Wheat_exp_Fbk.C_TREATMENT_NUMBER as TREATMENT_NUMBER,
Wheat_exp_Fbk.C_Moisture,
Wheat_exp_Fbk.C_TWT_2  TWT,
Wheat_field_notes.C_PLOT_LENGTH,
Wheat_field_notes.C_PLOT_WIDTH,
Wheat_exp_Fbk.C_CHECK,
Wheat_exp_Fbk.C_RAWYLD RAWYLD,
Wheat_exp_Fbk.C_PROTEIN_PCT,
Wheat_exp_Fbk.C_PRO,
CASE when Wheat_exp_Fbk.C_PLOTWT=0 or Wheat_Field_Notes.C_PLOT_WIDTH=0 or
Wheat_Field_Notes.C_PLOT_LENGTH = 0 then NULL
else
(100 - Wheat_exp_Fbk.C_Moisture) / 87 * Wheat_exp_Fbk.C_PLOTWT *
(43560 / ( Wheat_Field_Notes.C_PLOT_LENGTH  * Wheat_Field_Notes.C_PLOT_WIDTH )) / 60    END as BU_ACRE,
Wheat_pedigree.C_Source_ID as Brand,
Wheat_pedigree.C_Fem_Var Female,
Wheat_pedigree.C_Male  Male,
Wheat_pedigree.C_Trait   Trait,
Wheat_pedigree.C_RM   RM,
Wheat_exp_Fbk.C_Previous_Crop  Prev_Crop,
Wheat_Col_Entry_List1.List_Value    Soil_Texture,
Wheat_Col_Entry_List7.List_Value      Irrigated,
Wheat_Col_Entry_List2.List_Value   Region_II,
Wheat_Col_Entry_List5.List_Value   Plot_Discarded,
Wheat_Field_Notes.C_Date_Harvested Harvest_Date,
Wheat_Field_Notes.C_Date_Planted Planting_Date,
Wheat_Field_Notes.C_LATITUDE,
Wheat_Field_Notes.C_LONGITUDE,
Wheat_exp_Fbk.C_Stand  Stand,
Wheat_exp_Fbk.C_SL SL,
Wheat_exp_Fbk.C_RL RL,
Wheat_Doc_type.Document_Name as Book_Type,
Wheat_Col_Entry_List.List_Value  Analysis_State,
\'Wheat\'  as CROP
FROM
dbo.exp_Fbk                 Wheat_exp_Fbk
Left Join   dbo.Col_Entry_List          Wheat_Col_Entry_List5
ON   Wheat_exp_Fbk.C_PLOT_Discarded = Wheat_Col_Entry_List5.Value_ID
Left Join    dbo.Doc_Entry               Wheat_Doc_Entry
ON   Wheat_exp_Fbk.Doc_id = Wheat_Doc_Entry.Doc_ID
Left Join    dbo.wks_reps               Wheat_wks_reps
ON   Wheat_exp_Fbk.Block_Id = Wheat_wks_reps.Block_Id
Left Join   dbo.Col_Entry_List  Wheat_Col_Entry_List
On   Wheat_wks_reps.C_Analysis_State =  Wheat_Col_Entry_List.Value_ID
Left Join     dbo.Doc_Entry               Wheat_Doc_Entry1
On   Wheat_wks_reps.set_id = Wheat_Doc_Entry1.Doc_ID,
dbo.Field_Notes             Wheat_Field_Notes
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List1
ON  Wheat_Field_Notes.C_Soil_Texture = Wheat_Col_Entry_List1.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List7
ON  Wheat_Field_Notes.C_Irrigated = Wheat_Col_Entry_List7.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List2
ON Wheat_Field_Notes.C_region_II      = Wheat_Col_Entry_List2.Value_ID,
dbo.pedigree                  Wheat_pedigree
Left Join    dbo.Col_Entry_List          Wheat_Col_Entry_List3
ON  Wheat_pedigree.C_Stage =   Wheat_Col_Entry_List3.VALUE_ID,
dbo.Doc_Type                 Wheat_Doc_Type,
dbo.Project_Entry           Wheat_Project_Entry,
dbo.Season_Entry          Wheat_Season_Entry,
dbo.Treatment_Combos Wheat_Treatment_Combos
WHERE
Wheat_Season_Entry.Season_Name = \'Winter-2019\'
AND  Wheat_Doc_entry1.Doc_Name NOT LIKE \'Filler%\'
AND  Wheat_Doc_Entry.Doc_Type = Wheat_Doc_Type.Doc_Type
AND  Wheat_Doc_Entry.Project_ID = Wheat_Project_Entry.Project_ID
AND  Wheat_Doc_Entry.Season_Id = Wheat_Season_Entry.Season_ID
AND  Wheat_wks_reps.TCOMBO_ID = Wheat_Treatment_Combos.TCombo_ID
AND  Wheat_pedigree.ped_id = Wheat_exp_fbk.ped_id
AND  Wheat_Doc_Entry.doc_id  =  Wheat_Field_Notes.doc_id')
unique(wheat$Trial)
View(wheat)
wheat <- dbGetQuery(con,
'SELECT
Wheat_Project_Entry.Project_Name Book_Project,
Wheat_Doc_Entry.Doc_Name as Book_Name,
Wheat_Season_Entry.Season_Name as Season,
Wheat_exp_Fbk.C_RANGE as RANGE,
Wheat_exp_Fbk.C_PASS  as ROW,
Wheat_exp_Fbk.p_rowid as RECID,
Wheat_Doc_Entry1.Doc_Name as Trial,
Wheat_wks_reps.Rep_Num,
Wheat_wks_reps.User_Rep,
Wheat_Exp_Fbk.C_Entry_Num,
Wheat_pedigree.C_Pedigree as MP_NAME,
Wheat_exp_Fbk.C_NUM_SEED,
Wheat_Treatment_Combos.Treatment_Text as TREATMENT_APPLIED,
Wheat_exp_Fbk.CG_TREATMENT_NAME as TREATMENT_NAME,
Wheat_exp_Fbk.C_TREATMENT_NUMBER as TREATMENT_NUMBER,
Wheat_exp_Fbk.C_Moisture,
Wheat_exp_Fbk.C_TWT_2  TWT,
Wheat_field_notes.C_PLOT_LENGTH,
Wheat_field_notes.C_PLOT_WIDTH,
Wheat_exp_Fbk.C_CHECK,
Wheat_exp_Fbk.C_RAWYLD RAWYLD,
Wheat_exp_Fbk.C_PROTEIN_PCT,
Wheat_exp_Fbk.C_PRO,
CASE when Wheat_exp_Fbk.C_PLOTWT=0 or Wheat_Field_Notes.C_PLOT_WIDTH=0 or
Wheat_Field_Notes.C_PLOT_LENGTH = 0 then NULL
else
(100 - Wheat_exp_Fbk.C_Moisture) / 87 * Wheat_exp_Fbk.C_PLOTWT *
(43560 / ( Wheat_Field_Notes.C_PLOT_LENGTH  * Wheat_Field_Notes.C_PLOT_WIDTH )) / 60    END as BU_ACRE,
Wheat_pedigree.C_Source_ID as Brand,
Wheat_pedigree.C_Fem_Var Female,
Wheat_pedigree.C_Male  Male,
Wheat_pedigree.C_Trait   Trait,
Wheat_pedigree.C_RM   RM,
Wheat_exp_Fbk.C_Previous_Crop  Prev_Crop,
Wheat_Col_Entry_List1.List_Value    Soil_Texture,
Wheat_Col_Entry_List7.List_Value      Irrigated,
Wheat_Col_Entry_List2.List_Value   Region_II,
Wheat_Col_Entry_List5.List_Value   Plot_Discarded,
Wheat_Field_Notes.C_Date_Harvested Harvest_Date,
Wheat_Field_Notes.C_Date_Planted Planting_Date,
Wheat_Field_Notes.C_LATITUDE,
Wheat_Field_Notes.C_LONGITUDE,
Wheat_exp_Fbk.C_Stand  Stand,
Wheat_exp_Fbk.C_SL SL,
Wheat_exp_Fbk.C_RL RL,
Wheat_Doc_type.Document_Name as Book_Type,
Wheat_Col_Entry_List.List_Value  Analysis_State,
\'Wheat\'  as CROP
FROM
dbo.exp_Fbk                 Wheat_exp_Fbk
Left Join   dbo.Col_Entry_List          Wheat_Col_Entry_List5
ON   Wheat_exp_Fbk.C_PLOT_Discarded = Wheat_Col_Entry_List5.Value_ID
Left Join    dbo.Doc_Entry               Wheat_Doc_Entry
ON   Wheat_exp_Fbk.Doc_id = Wheat_Doc_Entry.Doc_ID
Left Join    dbo.wks_reps               Wheat_wks_reps
ON   Wheat_exp_Fbk.Block_Id = Wheat_wks_reps.Block_Id
Left Join   dbo.Col_Entry_List  Wheat_Col_Entry_List
On   Wheat_wks_reps.C_Analysis_State =  Wheat_Col_Entry_List.Value_ID
Left Join     dbo.Doc_Entry               Wheat_Doc_Entry1
On   Wheat_wks_reps.set_id = Wheat_Doc_Entry1.Doc_ID,
dbo.Field_Notes             Wheat_Field_Notes
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List1
ON  Wheat_Field_Notes.C_Soil_Texture = Wheat_Col_Entry_List1.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List7
ON  Wheat_Field_Notes.C_Irrigated = Wheat_Col_Entry_List7.Value_ID
Left Join       dbo.Col_Entry_List          Wheat_Col_Entry_List2
ON Wheat_Field_Notes.C_region_II      = Wheat_Col_Entry_List2.Value_ID,
dbo.pedigree                  Wheat_pedigree
Left Join    dbo.Col_Entry_List          Wheat_Col_Entry_List3
ON  Wheat_pedigree.C_Stage =   Wheat_Col_Entry_List3.VALUE_ID,
dbo.Doc_Type                 Wheat_Doc_Type,
dbo.Project_Entry           Wheat_Project_Entry,
dbo.Season_Entry          Wheat_Season_Entry,
dbo.Treatment_Combos Wheat_Treatment_Combos
WHERE
Wheat_Season_Entry.Season_Name = \'Spring-2020\'
AND  Wheat_Doc_entry1.Doc_Name NOT LIKE \'Filler%\'
AND  Wheat_Doc_Entry.Doc_Type = Wheat_Doc_Type.Doc_Type
AND  Wheat_Doc_Entry.Project_ID = Wheat_Project_Entry.Project_ID
AND  Wheat_Doc_Entry.Season_Id = Wheat_Season_Entry.Season_ID
AND  Wheat_wks_reps.TCOMBO_ID = Wheat_Treatment_Combos.TCombo_ID
AND  Wheat_pedigree.ped_id = Wheat_exp_fbk.ped_id
AND  Wheat_Doc_Entry.doc_id  =  Wheat_Field_Notes.doc_id')
unique(wheat$Trial)
st_trial = wheat %>%
filter(Trial=="ST")
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower())
rename_all(tolower
st_trial = wheat %>%
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower)
View(st_trial)
unique(st_trial$book_name)
View(st_trial)
unique(st_trial$analysis_state)
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting"))
unique(st_trial$analysis_state)
st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n(0))
st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting"))
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
View(completeness)
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile()
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile() +
facet_wrap(.~book_name)
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile() +
facet_wrap(.~book_name, scales = 'free')
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile(aes(fill=bu_acre)) +
facet_wrap(.~book_name, scales = 'free')
View(st_trial)
View(st_trial)
filter(!(grepl("Cando", book_name) & user_rep==7)
st_final = st_trial %>%
st_final = st_trial %>%
filter(!(grepl("Cando", book_name) & user_rep==7))
View(st_final)
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower)
unique(st_trial$book_name)
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting"))
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower)
View(st_trial)
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting"))
unique(st_trial$book_name)
locations = st_final %>%
group_by(book_name) %>%
summarise(lat = first(c_latitude),
long = first(c_longitude))
View(locations)
library(leaflet)
locations %>%
leaflet() %>%
addCircleMarkers()
locations %>%
leaflet() %>%
addCircleMarkers() %>%
addTiles()
locations %>%
leaflet() %>%
addCircleMarkers() %>%
addTiles(popup = ~book_name)
locations %>%
leaflet() %>%
addCircleMarkers(popup = ~book_name) %>%
addTiles()
locations = st_final %>%
group_by(book_name) %>%
summarise(lat = first(c_latitude),
long = first(c_longitude))
library(leaflet)
locations %>%
leaflet() %>%
addCircleMarkers(popup = ~book_name) %>%
addTiles()
filter(!grepl("Yes|yes|Y|y", plot_discarded)
st_trial = wheat %>%
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting")) %>%
filter(!grepl("Yes|yes|Y|y", plot_discarded))
unique(st_trial$book_name)
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile(aes(fill=bu_acre)) +
facet_wrap(.~book_name, scales = 'free')
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting")) %>%
filter(!grepl("Yes|yes|Y|y", plot_discarded))
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile(aes(fill=bu_acre)) +
facet_wrap(.~book_name, scales = 'free')
st_trial = wheat %>%
filter(Trial=="ST") %>%
rename_all(tolower) %>%
filter(!analysis_state %in% c("Questionable", "Planting-Error at Planting")) %>%
filter(!grepl("Yes|yes|Y|y", plot_discarded))
View(st_trial)
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
# reps per trt per location
completeness = st_trial %>%
group_by(book_name, mp_name) %>%
summarise(N=n())
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile(aes(fill=bu_acre)) +
facet_wrap(.~book_name, scales = 'free')
st_final = st_trial %>%
filter(!(grepl("Cando", book_name) & user_rep==7)) %>%
filter(!(grepl("Salem", book_name) & user_rep==18))
st_trial %>%
ggplot(aes(x=range, y=row, label=bu_acre)) +
geom_tile(aes(fill=bu_acre)) +
facet_wrap(.~book_name, scales = 'free')
